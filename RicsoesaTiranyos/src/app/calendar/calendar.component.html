<body style="margin-top: 15vh;">
    <div class="logo-loading" *ngIf="eventLoaded < 2">
      <svg xmlns="http://www.w3.org/2000/svg" width="1000" height="1000" class="logo">
        <path style="fill:#ffffff; stroke:none;" d="M446 91L447 96L447 97L446 99L415 98L419 101L422 105L422 111L383 115L384 118L380 118L380 117L382 117L382 116C378.61 116.256 376.696 116.537 376 120L366 131C361.985 130.965 359.33 132.083 358 136L350 137L350 139L357 141L362 146L362 147L331 156L335 160L335 161L333 162L333 163L336 173L320 172L326.701 181.526L323 189L306 193L315 215L306 215C306.979 218.915 307.995 222.565 312 224C312.956 236.641 333.811 245.656 345 245C348.186 249.859 370.902 262.277 376 260C379.234 265.593 390.856 267.857 397 267C402.989 274.44 431.637 279.349 440 275L439 278L497 286L496 283L504 283L504 284L500 284L500 285C505.666 284.996 516.311 285.846 520 281L521 281L522 281C525.38 284.867 534.339 282.195 539 281.576C553.216 279.685 566.762 280 581 280C586.422 280 592.916 281.279 596 276L602 272C605.584 271.663 606.938 270.443 608 267L609 267L610 269L620 260C625.492 259.767 630.855 253.372 628 248L635 238L635 237L633 235L636 236L635 233C636.878 232.008 638.03 230.29 636 229L636 228C640.451 226.45 641.098 222.23 640 218L645 213L644 208C651.007 204.24 649.922 195.894 650.004 189C650.163 175.598 655.668 148.707 642 140L636 130L625 123C622.94 116.666 614.453 111.653 608 112C607.288 102.556 598.234 99.5267 592 94L594 95L591 92L592 103L585 102C582.285 98.9495 575.075 98.7576 571.039 97.9352C558.734 95.4271 538.861 88.5625 528 96L530 91C517.709 90.8997 505.225 86.4242 493 87.108C476.983 88.004 462.754 94.9886 446 91z"/>
        <path style="fill:#ffffff; stroke:none;" d="M589 90L590 91L589 90z"/>
        <path style="fill:#ffffff; stroke:none;" d="M610 109L611 110L610 109z"/>
        <path style="fill:#ffffff; stroke:none;" d="M609 110L610 111L609 110z"/>
        <path style="fill:#ffffff; stroke:none;" d="M656 203L648 232L645 244L647 248C644.525 248.513 644.425 248.604 645 251L643 254C639.006 255.956 635.553 259.504 635 264L626 274L635 281C635.593 284.641 637.29 287.219 641 288C642.573 293.59 650.238 302.383 656 304L660.83 322L667 392L668 392L670 376C674.516 372.578 677.03 360.101 675 355C682.663 350.175 682.965 330.387 684.13 322C688.176 292.886 685.219 261.789 679.804 233C677.14 218.838 677.872 203.301 659 205L656 203z"/>
        <path style="fill:#ffffff; stroke:none;" d="M331 252C332.557 280.173 332.418 307.415 339.856 335C341.399 340.719 344.412 358.205 351 359L349 361L352 386L353 386L352.001 333L352 307L355 308L357 298L362 293L362 292L360 290C363.763 288.823 364.995 286.908 365 283C369.97 282.172 371.285 275.457 369 275L369 274L372 273C360.541 264.842 344.541 255.901 331 252z"/>
        <path style="fill:#ffffff; stroke:none;" d="M667.333 393.667L667.667 394.333L667.333 393.667z"/>
        <path style="fill:#ffffff; stroke:none;" d="M312.333 482.667L312.667 483.333L312.333 482.667z"/>
        <path style="fill:#ffffff; stroke:none;" d="M683 482L684 483L683 482z"/>
        <path style="fill:#ffffff; stroke:none;" d="M684 484L685 485L684 484z"/>
        <path style="fill:#ffffff; stroke:none;" d="M440 480C435.288 480.156 431.276 483.454 430 488L411 500L409 504L410 502L409 502L400 512C393.974 512.278 385.905 517.73 383 523C378.7 522.837 369.277 526.587 368 531L367 531L353 531.871L329 526.677L315 521L317 519L317 518L315 515L312 516L310.174 502L312 485L311 485C309.068 491.989 304.27 506.557 311 512C310.765 515.94 311.631 518.789 315 521L314 523L331 539L334 541L348 547L352 545C353.002 549.653 357.078 546.768 360 545C361.131 550.278 378 550.22 378 545L384 546L384 553L418 553.537L436 548L434 545C439.027 545.992 443.324 545.359 445 540L446 540L447 542L458 533C461.448 533.004 462.887 532.312 464 529L465 529L466 531L472 524L474 526L480 520L481 520L482 522L518 520L516 523L520 523L524 525L531 529L534 531C534.866 536.195 542.482 538.589 543 536L544 536L547 541L551 541C551.746 545.475 556.537 546.314 557 544L558 544L560 546L565 548C572.764 557.946 605.142 558.049 614 550L614 549L612 546C620.928 547.513 633.033 552.406 641 546L643 548C647.584 546.195 657.106 546.149 657 540L660 542L665 537C670.097 538.699 683.536 522.707 680 522L680 521L682 519L685 518L686 515L683 512L684 515L684 516C678.935 517.43 673.625 521.948 672 527L671 527L670 525L668 528C663.955 527.74 659.519 528.646 657 532L632 532C631.439 528.434 612.947 520.102 609 520L604 517C602.702 514.568 599.895 510.073 597 512L596 512C594.415 506.469 587.66 500.871 582 500L571 491C569.369 487.729 567.703 486.095 564 486L561 483L557 480L556 480L556 477L555 477L555 479L554 479C550.754 468.885 529.872 467.965 521 468.276C516.908 468.42 512.332 468.4 510 472L507 470C490.987 474.5 474.09 466.459 457 470.12C451.648 471.267 441.804 474.46 440 480z"/>
        <path style="fill:#ffffff; stroke:none;" d="M684 486L687 492L684 486z"/>
        <path style="fill:#ffffff; stroke:none;" d="M686 493L684 511L685 513L686 513C688.565 506.961 690.261 498.595 686 493z"/>
        <path style="fill:#1f1b17; stroke:none;" d="M382 550L381 552L382 550z"/>
        <path style="fill:#ffffff; stroke:none;" d="M614 551L615 552L614 551z"/>
      </svg>
    </div>


      <div class="modal" style="margin-top: 20%;" [style]="{display: dialogClose2}">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title">
                  <span>Információ</span></h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" (click)="dialogClose2 = 'none'"></button>
              </div>
              <div class="modal-body">
                <p>Sajnáljuk, jelenleg nincsen előre tervezett Stream a közeljövőben!</p>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-primary" (click)="dialogClose2 = 'none'">Értem</button>
              </div>
            </div>
          </div>
        </div>
          <div class="row text-center">

              <div class="col-lg-3 col-12">
                  <div class="btn-group">

                        <button mat-fab color="primary" class="prev-btn" mwlCalendarPreviousView [view]="view" [(viewDate)]="viewDate">
                          <!-- prev -->
                          <i class="fa-solid fa-caret-left fs-5"></i>
                        </button>
                        <button mat-fab color="success" class="mx-3 home-btn" mwlCalendarToday [(viewDate)]="viewDate">
                          <!-- home -->
                          <i class="fa-solid fa-house fs-5 mb-1"></i>
                        </button>
                        <button mat-fab color="primary" class="prev-btn" mwlCalendarNextView [view]="view" [(viewDate)]="viewDate" (click)="eventPerDay = []">
                          <!-- next -->
                          <i class="fa-solid fa-caret-right fs-5"></i>
                        </button>

                  </div>
              </div>
              <div class="col-lg-6 col-12 text-light">
                <h3 class="mt-2">{{ viewDate | calendarDate:(view + 'ViewTitle'):'en' }}</h3>
              </div>

          </div>

      <mwl-calendar-month-view (dayClicked)="dayClicked($event.day)" [viewDate]="viewDate" [events]="events" [weekStartsOn]="1" [cellTemplate]="customCellTemplate">
      </mwl-calendar-month-view>

      <ng-template #customCellTemplate let-day="day" let-locale="locale" let-tooltipPlacement="tooltipPlacement" let-highlightDay="highlightDay" let-unhighlightDay="unhighlightDay" let-eventClicked="eventClicked" let-tooltipTemplate="tooltipTemplate" let-tooltipAppendToBody="tooltipAppendToBody" let-tooltipDelay="tooltipDelay">
          <div class="cal-cell-top">
              <span class="cal-day-badge" *ngIf="day.badgeTotal > 0">
                  {{ day.badgeTotal }}</span>
              <span class="cal-day-number">
                  {{ day.date | calendarDate:'monthViewDayNumber':locale }}</span>
          </div>
          <div *ngIf="day.events.length > 0">
              <div *ngFor="let event of day.events; index as i">
                  <ng-template *ngIf="i < 1; then showEventsBlock; else showMoreBlock">
                  </ng-template>
                  <ng-template #showEventsBlock>
                      <div class="cal-events" *ngIf="i < 1" [ngStyle]="{ backgroundColor: event.color.primary, color: event.color.primary }" [ngClass]="event?.cssClass" [ngClass]="checkEventLength(event, day)" (mwlClick)="eventClicked.emit({event: event})" [mwlCalendarTooltip]="event.title | calendarEventTitle: 'monthTooltip':event" [tooltipPlacement]="tooltipPlacement" [tooltipEvent]="event" [tooltipTemplate]="tooltipTemplate" [tooltipAppendToBody]="tooltipAppendToBody" [tooltipDelay]="tooltipDelay">
                          <span class="d-lg-block d-none filtered eventTitle"  [ngClass]="checkDateDeleted(event)"  > {{checkLength(event.title,20)}}</span>
                      </div>
                  </ng-template>
                  <ng-template #showMoreBlock>
                      <ng-container *ngIf="i <= 1">
                        <div class="cal-events d-lg-block d-none" *ngIf="i == 1" [ngStyle]="{ backgroundColor: '#A970FF', color: '#000' }" [ngClass]="event?.cssClass" [ngClass]="checkEventLength(event, day)" (mwlClick)="eventClicked.emit({event: event})" mwlCalendarTooltip="továbbiak..." [tooltipPlacement]="tooltipPlacement" [tooltipEvent]="event" [tooltipTemplate]="tooltipTemplate" [tooltipAppendToBody]="tooltipAppendToBody" [tooltipDelay]="tooltipDelay">
                          <i class="fa-solid fa-ellipsis"></i>
                        </div>
                      </ng-container>
                  </ng-template>
              </div>
          </div>

      </ng-template>

      <div class="text-center rule">
        <h5 class="fst-italic fs-6">A műsorváltoztatás jogát fenntartjuk!</h5>

      </div>

      <div >
        <div class="eventDetails" *ngFor="let event of eventPerDay" [style]="{color: '#fff', borderColor: event.color.secondary}" >
          <div class="container">
              <div class="row">

                <div class="col-12 col-lg-2 p-3 imgs" [style]="{backgroundColor: event.color.primary}">
                  <img [src]="gamePicture(event.title)" alt="Picture" class="eD-img">
                </div>

                <div class="col-12 col-lg-1 text-center">
                  <div class="eventDateBack" [ngClass]="checkEventMoreDay(event)">
                    <h2 class="eventDate">{{convertToDate(event.start)}}</h2>
                    <h3 class="eventMonth">{{convertToDateMonth(event.start)}}.</h3>
                  </div>
                </div>


                <div class="col-12 col-lg-9 p-3 titles">

                  <div class="row ">
                    <div class="col-12">
                      <h1 [ngClass]="checkDateDeleted(event)">{{checkLength(event.title,40)}}</h1>
                    </div>
                    <div class="col-12">
                      <h5 *ngIf="checkDateDeleted(event) === ''"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clock-fill mb-1" viewBox="0 0 16 16">
                        <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71V3.5z"/>
                      </svg>
                      <span>{{checkOurUncertainty(convertToTime(event.start),convertToTime(event.end)) ? ' A nap folyamán' : (' ' + convertToTime(event.start) + ' - ' + convertToTime(event.end))}}</span>
                      </h5>

                      <h5 *ngIf="checkDateDeleted(event) === 'deleted'">
                        <i class="fa-solid fa-triangle-exclamation"></i>
                        Elmarad!
                      </h5>
                    </div>


                    <div class="col-12 d-flex justify-content-center justify-content-lg-start" *ngIf="getValueToSlider(event.start, event.end) < 0 && checkDateDeleted(event) === ''">
                      <button class="btn GoogleCalendar" (click)='ToGoogleCalendar(event.title,"RicsoesaTiranyos Stream",event.start,event.end)'><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-calendar-plus mb-1" viewBox="0 0 16 16">
                        <path d="M8 7a.5.5 0 0 1 .5.5V9H10a.5.5 0 0 1 0 1H8.5v1.5a.5.5 0 0 1-1 0V10H6a.5.5 0 0 1 0-1h1.5V7.5A.5.5 0 0 1 8 7z"/>
                        <path d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1z"/>
                      </svg> Hozzáadás Google Naptárhoz</button>
                    </div>

                    <div class="col-12">
                      <mat-slider class="w-100" disabled min="0" [max]="getMaxToSlider(event.start, event.end)" [value]="getValueToSlider(event.start, event.end)" *ngIf="getValueToSlider(event.start, event.end) > 0 && checkDateDeleted(event) === ''" [color]="event.color.secondary"></mat-slider>
                    </div>
                  </div>

                </div>
              </div>
          </div>
        </div>

        <div class="eventss"></div>
      </div>


      <div class="spacer">

      </div>
  </body>
